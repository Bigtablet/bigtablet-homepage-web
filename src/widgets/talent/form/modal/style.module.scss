@use "src/shared/styles/token" as token;

.modal_overlay {
  position: fixed;
  inset: 0;
  background: token.$color-background-overlay;
  z-index: token.$z-modal;
  @include token.flex-center;
}

.modal_content {
  max-height: 80vh;
  overflow-y: auto;
  width: 420px;
  background: token.$color-background;
  border-radius: token.$radius-lg;
  box-shadow: token.$shadow-lg;
  padding: token.$spacing-3xl;
  animation: fadeIn token.$transition-base;

  h2 {
    @include token.heading-3;
    color: token.$color-text-primary;
    margin-bottom: token.$spacing-2xl;
  }
}

.form {
  @include token.flex-column;
  gap: token.$spacing-xl;

  label {
    @include token.flex-column-start;
    gap: token.$spacing-sm;
    @include token.body-regular;
    color: token.$color-text-primary;

    input {
      width: 100%;
      padding: token.$spacing-md token.$spacing-lg;
      border: 1px solid token.$color-border;
      border-radius: token.$radius-md;
      background: token.$color-background-secondary;
      transition: token.$transition-base;

      &:focus {
        outline: none;
        border-color: token.$color-primary;
        box-shadow: token.$shadow-focus;
      }

      &:disabled {
        background: token.$color-background-tertiary;
        cursor: not-allowed;
      }
    }
  }
}

.portfolio {
  @include token.flex-column;
  gap: token.$spacing-sm;
  @include token.body-regular;
  color: token.$color-text-primary;
}

.portfolio_header {
  @include token.flex-between;
  align-items: center;
  gap: token.$spacing-md;

  span {
    @include token.label;
    color: token.$color-text-primary;
  }
}

.portfolio_toggle {
  display: inline-flex;
  align-items: center;
  padding: token.$spacing-xs;
  border-radius: token.$radius-full;
  background: token.$color-background-secondary;
  border: 1px solid token.$color-border-light;
  gap: token.$spacing-xs;
}

.portfolio_toggle_button,
.portfolio_toggle_active {
  padding: token.$spacing-xs token.$spacing-md;
  border-radius: token.$radius-full;
  background: transparent;
  border: none;
  cursor: pointer;
  @include token.caption-strong;
  color: token.$color-text-secondary;
  transition: token.$transition-base;

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

.portfolio_toggle_button:hover:not(:disabled) {
  background: token.$color-background-tertiary;
}

.portfolio_toggle_active {
  background: token.$color-primary-subtle;
  color: token.$color-primary;
}

.portfolio_file {
  margin-top: token.$spacing-sm;
  @include token.flex-column;
  gap: token.$spacing-xs;
}

.helper {
  @include token.caption;
  color: token.$text-subtle;
}

.urls {
  @include token.flex-column;
  gap: token.$spacing-md;

  span {
    @include token.label;
    color: token.$text-subtle;
  }

  .url_row {
    @include token.flex-column;
    gap: token.$spacing-xs;

    input {
      width: 100%;
      padding: token.$spacing-md token.$spacing-lg;
      border: 1px solid token.$color-border;
      border-radius: token.$radius-md;
      background: token.$color-background-secondary;
      transition: token.$transition-base;

      &:focus {
        outline: none;
        border-color: token.$color-primary;
        box-shadow: token.$shadow-focus;
      }

      &:disabled {
        background: token.$color-background-tertiary;
        cursor: not-allowed;
      }
    }

    .url_remove {
      align-self: flex-end;
      padding: token.$spacing-xs token.$spacing-md;
      background: token.$color-error-bg;
      color: token.$color-error;
      border: 1px solid token.$color-error;
      border-radius: token.$radius-sm;
      @include token.caption;
      transition: token.$transition-base;

      &:hover {
        background: token.$color-error;
        color: token.$text-inverse;
      }

      &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }
    }
  }

  .url_add {
    width: fit-content;
    padding: token.$spacing-sm token.$spacing-md;
    background: token.$color-primary-subtle;
    color: token.$color-primary;
    border-radius: token.$radius-sm;
    border: 1px solid token.$color-primary;
    @include token.caption-strong;
    transition: token.$transition-base;

    &:hover {
      background: token.$color-primary;
      color: token.$text-inverse;
    }

    &:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
  }
}

.actions {
  @include token.flex-right;
  gap: token.$spacing-lg;
  margin-top: token.$spacing-xl;

  button {
    padding: token.$spacing-md token.$spacing-2xl;
    border-radius: token.$radius-md;
    transition: token.$transition-base;
    border: 1px solid transparent;
    @include token.body-medium;

    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
  }

  button[type="button"] {
    background: token.$color-background-secondary;
    color: token.$color-text-secondary;

    &:hover:not(:disabled) {
      background: token.$color-background-tertiary;
    }
  }

  button[type="submit"] {
    background: token.$color-primary;
    color: token.$text-inverse;

    &:hover:not(:disabled) {
      background: token.$color-primary-hover;
    }
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: scale(0.96);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.error {
  @include token.text-sm;
  color: token.$color-error;
  margin-top: token.$spacing-xs;
}